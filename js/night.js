var nite={map:null,date:null,sun_position:null,earth_radius_meters:6371008,marker_twilight_civil:null,marker_twilight_nautical:null,marker_twilight_astronomical:null,marker_night:null,init:function(e){if("undefined"==typeof google||void 0===google.maps)throw"Nite Overlay: no google.maps detected";this.map=e,this.sun_position=this.calculatePositionOfSun(),this.marker_twilight_civil=new google.maps.Circle({map:this.map,center:this.getShadowPosition(),radius:this.getShadowRadiusFromAngle(.566666),fillColor:"#000",fillOpacity:.1,strokeOpacity:0,clickable:!1,editable:!1}),this.marker_twilight_nautical=new google.maps.Circle({map:this.map,center:this.getShadowPosition(),radius:this.getShadowRadiusFromAngle(6),fillColor:"#000",fillOpacity:.1,strokeOpacity:0,clickable:!1,editable:!1}),this.marker_twilight_astronomical=new google.maps.Circle({map:this.map,center:this.getShadowPosition(),radius:this.getShadowRadiusFromAngle(12),fillColor:"#000",fillOpacity:.1,strokeOpacity:0,clickable:!1,editable:!1}),this.marker_night=new google.maps.Circle({map:this.map,center:this.getShadowPosition(),radius:this.getShadowRadiusFromAngle(18),fillColor:"#000",fillOpacity:.1,strokeOpacity:0,clickable:!1,editable:!1})},getShadowRadiusFromAngle:function(e){return this.earth_radius_meters*Math.PI*.5-2*this.earth_radius_meters*Math.PI/360*e},getSunPosition:function(){return this.sun_position},getShadowPosition:function(){return this.sun_position?new google.maps.LatLng(-this.sun_position.lat(),this.sun_position.lng()+180):null},refresh:function(){if(this.isVisible()){this.sun_position=this.calculatePositionOfSun(this.date);var e=this.getShadowPosition();this.marker_twilight_civil.setCenter(e),this.marker_twilight_nautical.setCenter(e),this.marker_twilight_astronomical.setCenter(e),this.marker_night.setCenter(e)}},jday:function(e){return e.getTime()/864e5+2440587.5},calculatePositionOfSun:function(e){var t=.017453292519943295,a=1e3*(60*(60*(e=e instanceof Date?e:new Date).getUTCHours()+e.getUTCMinutes())+e.getUTCSeconds())+e.getUTCMilliseconds(),i=(this.jday(e)-2451545)/36525,n=(280.46646+i*(36000.76983+3032e-7*i))%360,o=357.52911+i*(35999.05029-1537e-7*i),s=n+(Math.sin(t*o)*(1.914602-i*(.004817+14e-6*i))+Math.sin(2*t*o)*(.019993-101e-6*i)+289e-6*Math.sin(3*t*o))-.00569-.00478*Math.sin(125.04*t-1934.136*i),l=23+(26+(21.448-i*(46.815+i*(59e-5-.001813*i)))/60)/60+.00256*Math.cos(125.04*t-1934.136*i),r=Math.asin(Math.sin(t*l)*Math.sin(t*s))/t,p=.016708634-i*(42037e-9+1.267e-7*i),c=Math.tan(t*(l/2))*Math.tan(t*(l/2)),d=(a+6e4*((c*Math.sin(2*t*n)-2*p*Math.sin(t*o)+4*p*c*Math.sin(t*o)*Math.cos(2*t*n)-.5*c*c*Math.sin(4*t*n)-1.25*p*p*Math.sin(2*t*o))/t*4))%864e5/24e4,m=-(d<0?d+180:d-180);return new google.maps.LatLng(r,m)},setDate:function(e){this.date=e,this.refresh()},setMap:function(e){this.map=e,this.marker_twilight_civil.setMap(this.map),this.marker_twilight_nautical.setMap(this.map),this.marker_twilight_astronomical.setMap(this.map),this.marker_night.setMap(this.map)},show:function(){this.marker_twilight_civil.setVisible(!0),this.marker_twilight_nautical.setVisible(!0),this.marker_twilight_astronomical.setVisible(!0),this.marker_night.setVisible(!0),this.refresh()},hide:function(){this.marker_twilight_civil.setVisible(!1),this.marker_twilight_nautical.setVisible(!1),this.marker_twilight_astronomical.setVisible(!1),this.marker_night.setVisible(!1)},isVisible:function(){return this.marker_night.getVisible()}},Site={container:$("#page"),page:"dashboard",intervalTimers:[],timeoutTimers:[],mapStyle:[{featureType:"all",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#363b4a"},{lightness:"-30"}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"simplified"},{color:"#50b87f"},{lightness:"15"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#363b4a"},{lightness:"-30"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"simplified"},{color:"#363b4a"},{lightness:"30"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#363b4a"},{visibility:"simplified"},{lightness:"-40"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#2e323e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#4d5765"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#363b4a"},{lightness:"-30"}]}],animations:{entrance:"fadeIn",mouseover:"rubberBand"},icons:{overcast:"wi-day-sunny-overcast",clear:"wi-day-sunny",mostlycloudy:"wi-day-cloudy",mostlysunny:"wi-day-sunny",partlycloudy:"wi-day-cloudy",partlysunny:"wi-day-sunny",cloudy:"wi-day-cloudy",hazy:"wi-haze",flurries:"wi-snow-wind",chanceflurries:"wi-snow-wind",chancerain:"wi-rain",chancesleat:"wi-sleet",chancesnow:"wi-show",rain:"wi-showers",sleat:"wi-sleat",sunny:"wi-sunny",snow:"wi-snow",tstorms:"wi-thunderstrom",unknown:"wi-sunny"},date:new Date,months:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],config:{},data:{},init:function(){$.ajaxSetup({cache:!1}),$(document).ajaxStop(function(){Site.removeLoader()}),Site.getConfig()},getConfig:function(){$.getJSON("/config.json",function(e){Site.config=e,$.getScript("https://maps.googleapis.com/maps/api/js?v=3&libraries=weather&key="+Site.config.google.key,function(){Site.setupNavigation(),Site.loadPage("Dashboard")})})},setupElements:function(){$("a:not([target])",Site.container).unbind("click").on("click",function(e){var t=$(this);t.data("url")&&(e.preventDefault(),Site.page=t.data("url"),Site.loadPage(t.data("title")))})},loadPage:function(e){Site.clearTimers(),Site.showLoader(),Site.container.removeClass(Site.animations.entrance).load("/pages/"+Site.page+".html",function(){Site.setupElements(),Site.setupNavigation(),document.title="Unity - "+e,Site.container.addClass(Site.animations.entrance)})},setupNavigation:function(){var e=$(".navbar");$("a",e).unbind(),$("a",e).each(function(){var e=$(this);$(".icon",e).addClass("animated"),Site.page==e.data("page")&&e.parent().addClass("active")}).on("click",function(t){t.preventDefault();var a=$(this),i=a.parent();"restart"==a.data("page")?($.getJSON("/restart"),Site.showLoader(),Site.timeoutTimers.push(setTimeout(function(){window.location.reload(!0)},1e4))):($("li.active",e).removeClass("active"),Site.page=a.data("page"),i.addClass("active"),Site.loadPage(a.data("title")))}).on("mouseover",function(){var e=$(this);$(".icon",e).addClass(Site.animations.mouseover)}).on("mouseleave",function(){var e=$(this);$(".icon*",e).removeClass(Site.animations.mouseover)})},removeLoader:function(){$("#loading").hide()},showLoader:function(){$("#loading").show()},fancyTimeFormat:function(e,t){var a=~~(e/3600),i=~~(e%3600/60),n=e%60,o="";return a>0&&(o+=a+"h "+(i<10?"0":"")),o+=i+(t?" minutes ":"m ")+(n<10?"0":""),o+=n+(t?" seconds":"s")},parseElements:function(e,t){$.each(t,function(t,a){"number"==typeof a&&(a=a.toFixed()),$("#"+e+"-"+t.replace("_","-")).attr("data-value",a).text(a)})},clearTimers:function(){for(var e=0;e<Site.intervalTimers.length;e++)clearInterval(e),clearTimeout(e),Site.intervalTimers.splice(e);for(e=0;e<Site.timeoutTimers.length;e++)clearInterval(e),clearTimeout(e),Site.timeoutTimers.splice(e)},getSuffix:function(e){return["th","st","nd","rd"][(e=~~(e<0?-e:e)%100)>10&&e<14||(e%=10)>3?0:e]}},Dashboard={loaded:0,init:function(){ISS.init(),Dashboard.setupWifi()},setupWifi:function(){$("#dashboard").size()&&$.getJSON("/api/wifi.json",function(e){Site.parseElements("wifi",e),Dashboard.setupSignalStrength(),Dashboard.setupClimate()})},setupClimate:function(){$("#dashboard").size()&&$.getJSON("/api/climate.json",function(e){Site.parseElements("climate",e),Dashboard.setupDevice()})},setupDevice:function(){$("#dashboard").size()&&$.getJSON("/api/device.json",function(e){Site.parseElements("device",e),Dashboard.setupVoltage(),Dashboard.setupRam(),Dashboard.setupStorage(e.flash_total),Dashboard.setupStatistics()})},setupStatistics:function(){$("#dashboard").size()&&$.getJSON("/api/stats.json",function(e){Site.parseElements("errors",e.errors),Site.parseElements("events",e.events),Site.parseElements("requests",e.requests),Dashboard.setupWeather()})},setupWeather:function(){$("#dashboard").size()&&$.getJSON("/api/weather.json",function(e){Site.parseElements("weather",e),$(".month").text(Site.months[Site.date.getMonth()]);var t=Site.date.getDate();$(".day").text(t<10?"0"+t:t),$("#w-icon").addClass("wi "+Site.icons[e.icon]),Site.timeoutTimers.push(setTimeout(function(){Dashboard.setupWifi()},1e3*Site.config.wunderground.interval))})},setupSignalStrength:function(){var e=$("#wifi-rssi"),t=e.parent(),a=t.parent(),i=e.data("value"),n=Math.min(Math.max(2*(i+112),0),100)+"%";t.width(n),a.attr("title",n).tooltip()},setupRam:function(){var e=$("#device-free-heap"),t=e.parent(),a=t.parent(),i=((40072-e.data("value"))/40072*100).toFixed()+"%";t.width(i),a.attr("title",i).tooltip()},setupStorage:function(e){var t=$("#device-flash-used"),a=t.parent(),i=a.parent(),n=(t.data("value")/e*100).toFixed()+"%";a.width(n),i.attr("title",n).tooltip()},setupVoltage:function(){var e=$("#device-voltage"),t=e.parent(),a=t.parent(),i=e.data("value")+.325,n=i/3.6*100+"%";t.width(n),a.attr("title",i.toFixed(2)+"V").tooltip()}},ISS={map:null,issMarker:null,homeMarker:null,circle:null,geocoder:null,init:function(){ISS.setupMap(),ISS.getSchedule()},setupMap:function(){ISS.map=new google.maps.Map(document.getElementById("map"),{zoom:4,styles:Site.mapStyle,disableDefaultUI:!0,backgroundColor:"none"}),ISS.homeMarker=new google.maps.Marker({map:ISS.map,optimized:!1,icon:new google.maps.MarkerImage("/img/home_marker.png",new google.maps.Size(52,52),new google.maps.Point(0,0),new google.maps.Point(26,26)),position:{lat:parseFloat(Site.config.home.lat),lng:parseFloat(Site.config.home.lon)}}),ISS.issMarker=new google.maps.Marker({map:ISS.map,optimized:!1,icon:new google.maps.MarkerImage("/img/iss_marker.png",new google.maps.Size(250,250),new google.maps.Point(0,0),new google.maps.Point(125,125))}),ISS.geocoder=new google.maps.Geocoder,nite.init(ISS.map),Site.intervalTimers.push(setInterval(function(){nite.refresh()},1e3)),this.updatePosition()},updatePosition:function(){var e=(new Date).getTime()/1e3;$.getJSON("https://api.wheretheiss.at/v1/satellites/25544/positions?timestamps="+e+"&units=miles",function(e){$.each(e,function(e,t){var a={lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},i=new google.maps.LatLngBounds;ISS.issMarker.setPosition(a),i.extend(ISS.issMarker.getPosition()),i.extend(ISS.homeMarker.getPosition()),ISS.map.fitBounds(i),ISS.geocoder.geocode({location:a},function(e,t){if(t==google.maps.GeocoderStatus.OK){for(var a=e[0].address_components,i="",n=0;n<a.length;n++)"country"==a[n].types[0]&&(i=a[n].long_name);$("#iss-location").text(i)}else $("#iss-location").text("Over an Ocean")});var n=621371e-9*google.maps.geometry.spherical.computeDistanceBetween(ISS.homeMarker.getPosition(),ISS.issMarker.getPosition());$("#iss-distance").text(Number(n.toFixed()).toLocaleString("en-US")).append("<span class='units'>miles</span>"),$("#iss-velocity").text(Number(t.velocity.toFixed()).toLocaleString("en-US")).append("<span class='units'>mph</span>"),$("#iss-elevation").text(Number(t.altitude.toFixed()).toLocaleString("en-US")).append("<span class='units'>miles</span>"),Site.timeoutTimers.push(setTimeout(function(){ISS.updatePosition()},1e4))})})},getSchedule:function(){$.getJSON("http://api.open-notify.org/iss-pass.json?callback=?",{lon:Site.config.home.lon,lat:Site.config.home.lat,alt:Site.config.home.alt},function(e){$.each(e.response,function(e,t){0==e&&$("#iss-eta").text(moment.unix(t.risetime).fromNow(!0));var a=new Date(0),i=new Date(0);a.setUTCSeconds(t.risetime),i.setUTCSeconds(t.risetime+t.duration);var n={weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},o=$("<tr/>"),s=$("<td/>").text(a.toLocaleTimeString("en-us",n)),l=$("<td/>").text(i.toLocaleTimeString("en-us",n)),r=$("<td/>").text(Site.fancyTimeFormat(t.duration,!1));$("#iss-schedule").append(o.append(s).append(l).append(r))})})}},Settings={data:null,map:null,marker:null,geocoder:null,elevator:null,init:function(){var e=Site.config;Settings.setupForm(),$("#lookup-btn").on("click",function(e){e.preventDefault(),console.log("WTF?"),Settings.lookup($("#home-lookup").val())}),Settings.data=e,$("#home-lon").val(e.home.lon),$("#home-lat").val(e.home.lat),$("#home-alt").val(e.home.alt),$("#home-timezone").val(e.home.timezone),e.mqtt.enabled&&$("#mqtt-enabled").attr("checked",e.mqtt.enabled?"checked":""),e.mqtt.publishing&&$("#mqtt-publishing").attr("checked",e.mqtt.publishing?"checked":""),$("#mqtt-pub_topic").val(e.mqtt.pub_topic),$("#mqtt-sub_topic").val(e.mqtt.sub_topic),$("#mqtt-host").val(e.mqtt.host),$("#mqtt-port").val(e.mqtt.port),$("#mqtt-username").val(e.mqtt.username),$("#mqtt-password").val(e.mqtt.password),e.iss.enabled&&$("#iss-enabled").attr("checked",e.iss.enabled?"checked":""),e.ota.enabled&&$("#ota-enabled").attr("checked",e.ota.enabled?"checked":""),$("#ota-port").val(e.ota.port),$("#ota-password").val(e.ota.password),$("#ntp-server").val(e.ntp.server),$("#ntp-port").val(e.ntp.port),$("#google-key").val(e.google.key),$("#wunderground-key").val(e.wunderground.key),$("#wunderground-interval").val(e.wunderground.interval),$("#network-hostname").val(e.network.hostname),$("#http-port").val(e.http.port),e.ssdp.enabled&&$("#ssdp-enabled").attr("checked",e.ssdp.enabled?"checked":""),$("#ssdp-device_type").val(e.ssdp.device_type),$("#ssdp-name").val(e.ssdp.name),$("#ssdp-model_name").val(e.ssdp.model_name),$("#ssdp-model_number").val(e.ssdp.model_number),$("#ssdp-model_url").val(e.ssdp.model_url),$("#ssdp-manufacturer").val(e.ssdp.manufacturer),$("#ssdp-manufacturer_url").val(e.ssdp.manufacturer_url),e.wunderground.enabled&&$("#wunderground-enabled").attr("checked",e.wunderground.enabled?"checked":""),Settings.setupMap()},setupForm:function(){$("form").on("submit",function(e){e.preventDefault(),Site.showLoader(),Site.timers.push(setTimeout(function(){window.location.reload(!0)},1e4)),$.ajax({url:"/save",data:JSON.stringify({home:{lon:parseFloat($("#home-lon").val()),lat:parseFloat($("#home-lat").val()),alt:parseInt($("#home-alt").val()),timezone:parseInt($("#home-timezone").val())},ntp:{server:$("#ntp-server").val(),port:parseInt($("#ntp-port").val())},network:{hostname:$("#network-hostname").val()},mqtt:{enabled:$("#mqtt-enabled").is(":checked"),publishing:$("#mqtt-publishing").is(":checked"),pub_topic:$("#mqtt-pub_topic").val(),sub_topic:$("#mqtt-sub_topic").val(),host:$("#mqtt-host").val(),port:parseInt($("#mqtt-port").val()),username:$("#mqtt-username").val(),password:$("#mqtt-password").val()},ota:{enabled:$("#ota-enabled").is(":checked"),password:$("#ota-password").val(),port:parseInt($("#ota-port").val())},google:{key:$("#google-key").val()},iss:{enabled:$("#iss-enabled").is(":checked")},wunderground:{enabled:$("#wunderground-enabled").is(":checked"),interval:$("#wunderground-interval").val(),key:$("#wunderground-key").val()},http:{port:parseInt($("#http-port").val())},ssdp:{enabled:$("#ssdp-enabled").is(":checked"),schema_url:$("#ssdp-schema_url").val(),device_type:$("#ssdp-device_type").val(),name:$("#ssdp-name").val(),model_name:$("#ssdp-model_name").val(),model_number:parseInt($("#ssdp-model_number").val()),model_url:$("#ssdp-model_url").val(),manufacturer:$("#ssdp-manufacturer").val(),manufacturer_url:$("#ssdp-manufacturer_url").val()}}),contentType:"application/json",type:"POST",dataType:"json"})})},lookup:function(e){Settings.geocoder.geocode({address:e},function(t,a){if(console.log(t),a==google.maps.GeocoderStatus.OK){var i=t[0].geometry.location;Settings.map.setCenter(t[0].geometry.location),Settings.marker.setPosition(i),Settings.elevator.getElevationForLocations({locations:[i]},function(e,t){$.getJSON("https://maps.googleapis.com/maps/api/timezone/json",{location:e[0].location.lat()+","+e[0].location.lng(),key:Settings.data.google.key,timestamp:Math.round((new Date).getTime()/1e3)},function(e){$("#home-timezone").val(e.rawOffset)}),$("#home-lat").val(e[0].location.lat().toFixed(7)),$("#home-lon").val(e[0].location.lng().toFixed(7)),$("#home-alt").val(e[0].elevation.toFixed(0))})}else alert("Could not find location: "+e)})},setupMap:function(){var e=Settings.data.home.lat+","+Settings.data.home.lon,t={zoom:3,styles:Site.mapStyle,mapTypeId:google.maps.MapTypeId.ROADMAP};Settings.map=new google.maps.Map(document.getElementById("map"),t),Settings.marker=new google.maps.Marker({map:Settings.map,optimized:!1,icon:new google.maps.MarkerImage("/img/home_marker.png",new google.maps.Size(52,52),new google.maps.Point(0,0),new google.maps.Point(26,26))}),Settings.geocoder=new google.maps.Geocoder,Settings.elevator=new google.maps.ElevationService,Settings.map.addListener("click",function(e){var t=e.latLng;Settings.marker.setPosition(t),Settings.elevator.getElevationForLocations({locations:[t]},function(e,t){$("#home-lat").val(e[0].location.lat().toFixed(7)),$("#home-lon").val(e[0].location.lng().toFixed(7)),$("#home-alt").val(e[0].elevation.toFixed(0))})}),nite.init(Settings.map),Site.timers.push(setInterval(function(){nite.refresh()},1e3)),Settings.lookup(e)}},Sensors={init:function(){$("#sensors").size()&&$.getJSON("/api/sensors.json",function(e){$.each(e,function(e,t){var a=t.value.toFixed(),i="sensor-"+e,n="";if(a<70?n="empty":a>=80?n="full":a<76?n="quarter":a<78?n="half":a<=80&&(n="three-quarters"),$("#"+i).size()){var o=$("#"+i);c=$("<i/>").addClass("fas fa-thermometer-"+n),d=$("<span/>").html(" "+a+"&deg;");$(".panel-body",o).html(c).append(d),$(".panel-footer",o).text(moment.unix(t.last_activity).fromNow())}else{var s=$("<div/>").addClass("col col-md-2").attr("id",i),l=$("<div/>").addClass("panel"),r=$("<div/>").addClass("panel-heading"),p=$("<h2/>").text(t.name),c=$("<i/>").addClass("fas fa-thermometer-"+n),d=$("<span/>").html(" "+a+"&deg;"),m=$("<div/>").addClass("panel-body").append(c).append(d).css({fontSize:64,textAlign:"center"}),u=$("<div/>").addClass("panel-footer").text(moment.unix(t.last_activity).fromNow());$("#container").append(s.append(l.append(r.append(p)).append(m).append(u)))}Site.timeoutTimers.push(setTimeout(function(){Sensors.init()},6e4))})})}},Effects={hex_to_RGB:function(e){var t=e.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},init:function(){$("form").on("submit",function(e){e.preventDefault();for(var t=$(this).serializeArray(),a={},i=0;i<t.length;i++){var n=t[i];"color"==n.name?a[n.name]=Effects.hex_to_RGB(n.value):"on"==n.value||"off"==n.value?a[n.name]="on"==n.value:a[n.name]=Effects.isNumber(n.value)?parseInt(n.value):n.value}$.ajax({url:"/trigger",data:JSON.stringify(a),contentType:"application/json",type:"POST",dataType:"json"})})}},Climate={names:["Garden","Guest Bedroom","Master Bedroom","Main Office","Livingroom"],nodes:[],init:function(){$("#clear-history").on("click",function(e){e.preventDefault(),$.getJSON("/clear-history",function(e){200==e.code?$("#climate-btn").click():alert("Unable to clear history")})}),$.ajax({url:"/history.json",cache:!1,dataType:"text"}).error(function(e){console.log("Error Getting Chart Data")}).done(function(e){console.log("Success"),Site.removeLoader(),Climate.parseResponse(e)})},parseResponse:function(e){if(e){var t=e.trim().split("\n"),a="[";$.each(t,function(e,i){a+=i+(e!=t.length-1?",":"")}),a+="]",a=JSON.parse(a),$.each(a,function(e,t){$.each(t,function(e,t){$.each(t,function(e,t){Climate.nodes[e-1]=[],Climate.nodes[e-1].name=Climate.names[e],Climate.nodes[e-1].data=[]})})}),$.each(a,function(e,t){$.each(t,function(e,t){e*=1e3,$.each(t,function(t,a){Climate.nodes[t-1].data.push([e,a])})})}),Highcharts.setOptions({time:{useUTC:!1}}),Highcharts.stockChart("highchart",{title:!1,credits:!1,lang:{thousandsSep:","},chart:{animation:{duration:3e3,easing:"swing"},backgroundColor:"transparent",inverted:!1,zoomType:"x",type:"spline"},rangeSelector:{buttons:[{type:"hour",count:1,text:"1h"},{type:"day",count:3,text:"3d"},{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],selected:3},tooltip:{style:{color:"#fff"},backgroundColor:"rgba(0,0,0,.75)",borderColor:"rgba(0,0,0,.75)",pointFormatter:function(){return'<b style="color:'+this.color+'">'+this.series.name+":</b> "+Highcharts.numberFormat(this.y,1)+"°F"},xDateFormat:"%A, %b %e, %I:%M%p"},colors:["#7cb5ec","#f7a35c","#90ee7e","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],navigator:{xAxis:{dateTimeLabelFormats:{millisecond:"%I %p",second:"%I %p",minute:"%I %p",hour:"%I %p"}}},xAxis:{title:!1,type:"datetime",dateTimeLabelFormats:{millisecond:"%I:%M:%S %p",second:"%I:%M:%S %p",minute:"%I:%M %p",hour:"%I:%M %p",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},labels:{style:{fontFamily:"Arial",fontSize:"10px",color:"#000",fontWeight:"bold"}},lineColor:"#ccc",lineWidth:2,tickColor:"#ccc",tickWidth:2},yAxis:{gridLineWidth:0},plotOptions:{labels:{enabled:!0},column:{borderColor:"transparent"},series:{dataGrouping:{dateTimeLabelFormats:{millisecond:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],second:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],minute:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],hour:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],day:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],week:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],month:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"],year:["%A, %b %e,  %I:%M%p","%A, %b %e,  %I:%M%p","-%I:%M%p"]}},shadow:!0,lineWidth:4,marker:{radius:4,enabled:!1,fillColor:"#262b36",lineColor:"#ffffff",lineWidth:2}}},legend:{enabled:!0},series:Climate.nodes}).reflow()}else console.log("No Data")}},Wifi={init:function(){$.getJSON("/api/wifi.json",function(e){Site.parseElements("wifi",e),console.log(e)})}};